<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>My Hakyll Blog - Install Hakyll</title>
        <link rel="stylesheet" href="../../css/default.css" />
    </head>
    <body>
        <header>
            <div class="logo">
                <a href="../../">My Hakyll Blog</a>
            </div>
            <nav>
                <a href="../../">Home</a>
                <a href="../../about.html">About</a>
                <a href="../../contact.html">Contact</a>
                <a href="../../archive.html">Archive</a>
            </nav>
        </header>

        <main role="main">
            <h1>Install Hakyll</h1>
            <article>
    <section class="header">
        Posted on April 27, 2018
        
            by Janez Rom
        
    </section>
    <section>
        <h1 id="install-hakyll">Install hakyll</h1>
<pre><code>stack install happy alex
stack install pandoc
stack install hakyll</code></pre>
<h1 id="create-blog">Create blog</h1>
<pre><code>hakyll-init janezrom.github.io
cd janez.rom.github.io
stack init
stack build</code></pre>
<h1 id="compile-blog">Compile blog</h1>
<pre><code>stack exec site build
stack exec site watch</code></pre>
<h1 id="macos">macOS</h1>
<h2 id="suppress--nopie-warnings-with-stack-buildon">Suppress ‘-nopie’ warnings with stack buildon</h2>
<pre><code>clang: warning: argument unused during compilation: '-nopie'
 [-Wunused-command-line-argument]</code></pre>
<p>This warning is shown when compiler support of <code>-no-pie</code> is expected but unavailable. It’s possible to bypass the warning for a specific version of GHC by modifying a global setting:</p>
<pre><code># ~/.stack/programs/x86_64-osx/ghc-8.2.2/lib/ghc-8.2.2/settings
-- (&quot;C compiler supports -no-pie&quot;, &quot;YES&quot;),
++ (&quot;C compiler supports -no-pie&quot;, &quot;NO&quot;),</code></pre>
<h2 id="library-warning">Library warning</h2>
<pre><code>ld: warning: directory not found for option '-L/usr/local/opt/llvm/lib'</code></pre>
<p>Install llvm!</p>
<h1 id="stack.yaml">stack.yaml</h1>
<pre><code>resolver: lts-12.26

packages:
- .

ghc-options: 
	# All packages
	&quot;$locals&quot;: -Wall
	&quot;$targets&quot;: -Werror
	&quot;$everything&quot;: -O2 -dynamic
	# some-package: -DSOME_CPP_FLAG</code></pre>
    </section>
</article>

        </main>

        <footer>
            Site proudly generated by
            <a href="http://jaspervdj.be/hakyll">Hakyll</a>
        </footer>
    </body>
</html>
